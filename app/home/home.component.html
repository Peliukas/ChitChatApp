<Page class="page">
    <Page.actionBar>
        <ActionBar class="action-bar" title="ChitChat">
            <FlexBoxLayout (tap)="onProfileButtonTap()" justifyContent="space-between" alignItems="center" width="280">
                <FlexBoxLayout alignItems="center" justifyContent="space-around">
                    <Label class="action-bar-icon" backgroundImage="res://chat" height="30" width="30"></Label>
                    <Label class="action-bar-title" text="ChitChat"></Label>
                </FlexBoxLayout>
                <Label class="action-bar-icon" backgroundImage="res://search_white" height="25" width="25"
                       (tap)="showContactSearchBar = !showContactSearchBar"></Label>
            </FlexBoxLayout>
        </ActionBar>
    </Page.actionBar>
    <StackLayout>
        <GridLayout rows="40" columns="30, 270" class="search-for-contact-input-wrapper" *ngIf="showContactSearchBar">
            <FlexBoxLayout col="0" row="0" backgroundImage="res://search" class="search-icon"></FlexBoxLayout>
            <TextField col="1" row="0" class="search-for-contact-input" hint="Search"></TextField>
        </GridLayout>
        <ListView [items]="contactList" class="list-group">
            <ng-template let-item="item" let-i="index" let-odd="odd" let-even="even">
                <GridLayout columns="50, auto, *" rows="50, auto, *" class="list-group-item"
                            (tap)="startConversation(item.id)">
                    <Label class="user-avatar-label" row="0" col="0" text='{{item.userName[0]}}'></Label>
                    <Label row="0" col="1" text='{{item.userName}}' class="contact-name-item-label"></Label>
                </GridLayout>
            </ng-template>
        </ListView>
    </StackLayout>
</Page>